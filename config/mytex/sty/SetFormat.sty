%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%==<Importación de paquetes>=========================
% \usepackage{etoolbox}
%=====> Layout <=====================================

% Establece márgenes y tamaños
\usepackage[
    letterpaper, 
    top=1.5cm, 
    bottom=1.5cm, 
    left=1.905cm, 
    right=1.905cm
    ]{geometry}
\interdisplaylinepenalty=2500
% Se puede establecer manualmente le indexado de la primera linea, si no se agrega el siguiente comando se usa el indexado default
%\setlength{\parindent}{4em}
% Se puede establecer el entre los párrafos, las opciones más comunes son:
%	Sin Espaciado: Comente el siguiente comentario
%	Espaciada sencillo: 1em
%	Espaciada uno y medio: 1.3em
%	Espaciada doble: 1.6 em
\setlength{\parskip}{1.3em}
% Se puede establecer el espacio entre las líneas del párrafo, si no se agrega el siguiente comando se usa el espaciado default
%\renewcommand{\baselinestretch}{1.5}

%====> Definición del idioma del documento <=========

% % Paquete que cambia títulos y palabras claves al idioma seleccionado
% \usepackage[spanish]{babel}

%====> Fonts <=======================================

\usepackage{lmodern}
\usepackage{verbatim}
% Paquete que establece el idioma del documento que se va a imprimir
\usepackage{polyglossia}
\setmainlanguage{spanish}
% Paquete que carga automática los paquetes: fontspec (Paquete que permite abrir OpenType font), realscripts, metalogo .
\usepackage{xltxtra}
\setmainfont{Times New Roman}
% \setmainfont{Arial}
% \setmainfont{MathJax_Script}
%\setmonofont{Lucida Console}

% Comando que permite que el texto escrito aquí se transfiera de forma fiel al PDF
%\defaultfontfeatures{Mapping=tex-text}
%\newfontfamily\VladScrip{Vladimir Script}
\newfontfamily\arialFont{Arial}
\newfontfamily\timesnrFont{Times New Roman}

% Puedo definir cuantos comandos como quiera
%\newfontfamily\Chiller{Chiller}

% Paquete que se asegura que las letras acentuadas se acentúen correctamente
% !!! Compilar con XeTeX o LuaTeX !!!
\usepackage{xunicode}

% Paquete que permite hacer dinglist 
% Manito a la derecha 43
% Por lo tanto 254
% Tríangulo negro 228
\usepackage{pifont}
%====> Uso de colores <===============================

% \usepackage{color}
\usepackage{xcolor}
\definecolor{BlueST} {HTML}{00e359}
\definecolor{GreenT} {HTML}{709b16}
\definecolor{coolblack}{rgb}{0.0, 0.18, 0.39}
\definecolor{anti-flashwhite}{rgb}{0.95, 0.95, 0.96}


% Paquete que permite incluir direcciones web de forma segura
% mas información en https://www.ctan.org/pkg/url
\usepackage{url}

%====> Letras y símbolos matemáticos <================

% Paquete que mejora la presentación visual de las ecuaciones, proporciona
% entornos adicionales para manejar varias ecuaciones o varias líneas 
% más información en https://www.ctan.org/pkg/amsmath
\usepackage{amsmath}

% Permite el uso de símbolos y formatos de letras adicionales
% como por ejemplo \mathfrak{letras}
\usepackage{amsfonts}

% Permite el uso de símbolos y formatos de letras adicionales
% más información en https://mirrors.ucr.ac.cr/CTAN/fonts/amsfonts/doc/amssymb.pdf
\usepackage{amssymb}

% Define el SI, pero tiene funciones adicionales
% más información en https://www.ctan.org/pkg/siunitx
\usepackage{siunitx}
\DeclareSIUnit\angstrom{Å}

% Negrita en cualquier texto matemático, mejor que la opción  \boldsymbol de ams
\usepackage{bm}

% Permite el uso de símbolos y formatos de letras adicionales
% como por ejemplo \mathscr{letras}
\usepackage{mathrsfs}

% Permite usar \mathds{letra}
\usepackage{dsfont}

% Permite el uso de comandos que introducen símbolos y entornos muy comunes en las
% ecuaciones propias de la física, simplificando su escritura
\usepackage{physics}

% Para tachar en ecuaciones
\usepackage[
    makeroom,
    ]{cancel}
\renewcommand\CancelColor{\color{red}}

%====> Personalización de los hipervínculos <=========

% más información en https://www.ctan.org/pkg/hyperref
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue!50!black,
    citecolor=green!50!black
}
% \makeatletter
% \let\@msm@th@eqref\eqref
% \renewcommand{\eqref}[1]{%
%   \begingroup
%   \leavevmode
%   \color{BlueST}%
%   \hypersetup{linkcolor=[named]{BlueST}}%
%   \@msm@th@eqref{#1}%
%   \endgroup
% }
% \makeatother


%====> Cajas con colores <===========================

\usepackage{tcolorbox}
\tcbuselibrary{
	breakable,
	external,
	fitting,
	hooks,
	magazine,
	poster,
	raster,
	skins,
	theorems,
	vignette,
	xparse
}
%====> Enumeraciones <===============================

% Permite personalizar las enumeraciones
\usepackage{enumerate}

%====> Tablas <======================================

% Permite unir celdas de varias filas 
% más información en https://www.ctan.org/pkg/multirow
\usepackage{multirow}

% Usted también puede definir su propios comandos
% Este comando permite generar rápidamente una celda que une varias 
% filas y que permite usar \\ como cambio de línea en la celda
\newcommand{\minitab}[2][]{\begin{tabular}{#1}#2\end{tabular}}

% Permite usar columnas de ancho preestablecido
\usepackage{dcolumn}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%==<Soporte para Proyectos con varios archivos>======

\usepackage{subfiles}
\usepackage{import}
\usepackage{pdfpages}

%====> Imágenes <====================================

\usepackage{subcaption}
\usepackage{graphicx}
\usepackage{graphics}

\RequirePackage{pdfmanagement-testphase}

\graphicspath{{figures/}}
% figure support
\newcommand{\incfigChN}[1]{}%
\newcommand{\incfig}[1]{%
    \def\svgwidth{0.5\columnwidth}
    \import{figures/}{#1.pdf_tex}
}

\usepackage{tikz}
\usetikzlibrary{patterns,angles}
\usetikzlibrary{calc,arrows,shapes.arrows,intersections,math}
\usetikzlibrary{decorations,decorations.markings,babel,positioning}
%====> Formato de la pagina <========================

% Permite dividir la hoja en varias columnas
% más información en https://www.ctan.org/pkg/multicol
\usepackage{multicol}

%====> Gestor de bibliografía <======================

% más información en https://www.ctan.org/pkg/biblatex
\usepackage[
    backend=biber, 
    % style=apa,
    style=phys,
    % articletitle=false,% APS
    biblabel=brackets,% APS
    % chaptertitle=false,% APS
    % pageranges=false%APS
    % citestyle=apa
    ]{biblatex}

% Paquete auxiliar para las citas
\usepackage{csquotes}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%==<Definición de portada y encabezados>=============

% \lecture starts a new lecture (les in dutch) GillesCastel
%
% Usage:
% \lecture{1}{di 12 feb 2019 16:00}{Inleiding}
%
% This adds a section heading with the number / title of the lecture and a
% margin paragraph with the date.

% I use \dateparts here to hide the year (2019). This way, I can easily parse
% the date of each lecture unambiguously while still having a human-friendly
% short format printed to the pdf.

\usepackage{xifthen}
\newboolean{solutions}
\setboolean{solutions}{false}

%====> Get current chapter name header <=============
% \newcommand{\currentMain}{}
% % \ifthenelse{\isundefined{\chapter}}{%
%     \let\oldchapter\section%
%     \renewcommand{\section}[1]{%
%         \@startsection {section}{1}{\z@}%
%                        {-3.5ex \@plus -1ex \@minus -.2ex}%
%                        {2.3ex \@plus.2ex}%
%                        {\normalfont\Large\bfseries}%
%         \renewcommand{\currentMain}{#1}}%
% % }{%
% %     \let\oldchapter\chapter
% %     \renewcommand{\chapter}[1]{\oldchapter{#1}\renewcommand{\currentMain}{#1}}
% % }

%\def\testdateparts#1{\dateparts#1\relax}
%\def\dateparts#1 #2 #3 #4 #5\relax{
%    \marginpar{\small   #1 #2 #3 #5  }
%}
\makeatletter
\def\@lecture{}%
\newcommand{\lecture}[3]{
    \setcounter{subsection}{0}
    \ifthenelse{\isempty{#3}}{%
        \def\@lecture{Lección #1}%
    }{%
        \def\@lecture{Lección #1: #3}%
    }%
    \setcounter{section}{#1}
    \section*{\@lecture}
    \addcontentsline{toc}{section}{\@lecture}
    %\marginpar
    {\small   #2  }
}

\newcommand{\homeworkfile}[2]{
    \setcounter{subsection}{0}
    \ifthenelse{\isempty{#2}}{%
        \def\@lecture{Tarea #1}%
    }{%
        \def\@lecture{Tarea #1: #2}%
    }%
    % \section*{ \@lecture }
    \section*{ \@lecture \\ \@author}
    \setcounter{section}{#1}
    \thispagestyle{plain}
}
\newcommand{\myfile}[2]{
    \setcounter{subsection}{0}
    \ifthenelse{\isempty{#2}}{%
        \def\@shortlecture{#1}%
        \def\@lecture{#1}%
    }{%
        \def\@shortlecture{#1: \\}%
        \def\@lecture{#2}%
    }%
    % \section*{ \@lecture }
    \section*{ \@shortlecture \@lecture \\ \@author}
    % \setcounter{section}{1}
    \thispagestyle{plain}
}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%==<Counter Definition>==============================
\newcounter{lastEquation}
\newcounter{lastChapter}
\newcounter{example}[section] 

\newcommand{\exa}[2][]{%
  \ifblank{#2}{
    \stepcounter{example}
  }{
    \setcounter{example}{#2}%
  }
  \ifthenelse{\isundefined{\thechapter}}{%
    \ifblank{#1}{
      \hspace{0.8cm}\par\arabic{section}.\arabic{example}.\hspace{0.45mm} %
    }{
      \setcounter{lastChapter}{\thesection}
      \setcounter{section}{#1}
      \hspace{0.8cm}\par\arabic{section}.\arabic{example}.\hspace{0.45mm} %
      \setcounter{section}{\thelastChapter}
    }
  }{%
    \ifblank{#1}{
      \hspace{0.8cm}\par\arabic{chapter}.\arabic{example}.\hspace{0.45mm} %
      }{
      \setcounter{lastChapter}{\thechapter}
      \setcounter{chapter}{#1}
      \hspace{0.8cm}\par\arabic{chapter}.\arabic{example}.\hspace{0.45mm} %
      \setcounter{chapter}{\thelastChapter}
    }
  }%
}
\newcommand{\exacs}[1]{%
  \setcounter{example}{#1}%
  \ifthenelse{\isundefined{\thechapter}}{%
    \hspace{0.8cm}\par\arabic{section}.\arabic{subsection}.\arabic{example}.\hspace{0.45mm} %
  }{%
    \hspace{0.8cm}\par\arabic{chapter}.\arabic{section}.\arabic{example}.\hspace{0.45mm} %
  }%
}
%====> Redefine counters <===========================
%\newcounter{myCha}
%\newcounter{probl}[myCha]
%\newcommand{\GFChap}[1]{
%\stepcounter{myCha}
%\vspace{2cm} \\\textbf{{\Large \arabic{myCha}.\qquad{#1}}} \vspace{1em}
%
%\newcommand{\GFProb}{
%\stepcounter{probl}
%\par\textbf{ \arabic{myCha}.\arabic{probl}.\qquad}
%}
% \renewcommand{\section}{%
%   \@starsection{section}%
%   {1}
%   {0mm}
%   {2ex plus 1ex minus 0.5ex}
%   {\Large\bfseries}
% }
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%==<Costum commands>=================================

\newcommand{\scrp}[1]{\mbox{\scriptsize{#1}}}
\newcommand{\vc}[1]{\vec{\bm{{#1}}}}
\newcommand{\vm}[1]{\bm{{#1}}{}}
\newcommand{\vh}[1]{\hat{\bm{{#1}}}}
% \renewcommand{\sin}{\mbox{ sen}}
\let\oldunit\unit
\renewcommand{\unit}[1]{\:\oldunit{#1}}
\let\olddd\dd
\renewcommand{\dd}{\:\olddd}
\newcommand{\then}{=}
\newcommand{\ifpause}{}
\newcommand{\ala}[1]{$^{#1}$}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%==<My name>=================================
\author{Luis Fernando Umaña Castro}
